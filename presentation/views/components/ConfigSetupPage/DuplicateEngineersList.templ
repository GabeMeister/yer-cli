package ConfigSetupPage

import components "GabeMeister/yer-cli/presentation/views/components"

templ DuplicateAuthorsList(selectedAuthors []string) {
	<div class="flex flex-col">
		<div id="right" class="sortable w-96 h-96 p-6 bg-gray-700">
			for _, author := range selectedAuthors {
				@components.DraggableText(author)
			}
			// For some reason, we HAVE to have a placeholder input that doesn't do
			// anything in order to drag an item into a sortable with no items
			<input type="hidden" name="ignore" class="h-0 w-0"/>
			<input
				id="duplicate-authors"
				type="hidden"
				name="duplicate-authors"
				value={ GetCombinedValue(selectedAuthors) }
			/>
		</div>
		<button
			hx-post="/duplicate-group"
			hx-target="#analyze-manually"
			class={ "px-2 py-1 bg-white rounded-lg text-black m-4",
					templ.KV("opacity-50 cursor-not-allowed", len(selectedAuthors) <= 1) }
			disabled?={ len(selectedAuthors) <= 1 }
			hx-include="#duplicate-authors, #all-authors"
		>
			Submit
		</button>
	</div>
}
